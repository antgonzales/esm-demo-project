{"version":3,"file":"cache.js","sources":["../../../../src/services/cache.ts"],"sourcesContent":["// Cache service with named exports only\nexport interface CacheEntry<T> {\n  value: T;\n  expiry: number;\n  created: number;\n}\n\nexport interface CacheConfig {\n  maxSize: number;\n  defaultTTL: number; // Time to live in milliseconds\n}\n\nexport class Cache<T> {\n  private store = new Map<string, CacheEntry<T>>();\n  private config: CacheConfig;\n  \n  constructor(config: CacheConfig) {\n    this.config = config;\n  }\n  \n  set(key: string, value: T, ttl?: number): void {\n    // Remove oldest entries if cache is full\n    if (this.store.size >= this.config.maxSize) {\n      const oldestKey = this.store.keys().next().value;\n      if (oldestKey) {\n        this.store.delete(oldestKey);\n      }\n    }\n    \n    const expiry = Date.now() + (ttl || this.config.defaultTTL);\n    this.store.set(key, {\n      value,\n      expiry,\n      created: Date.now()\n    });\n  }\n  \n  get(key: string): T | undefined {\n    const entry = this.store.get(key);\n    if (!entry) return undefined;\n    \n    if (Date.now() > entry.expiry) {\n      this.store.delete(key);\n      return undefined;\n    }\n    \n    return entry.value;\n  }\n  \n  has(key: string): boolean {\n    return this.get(key) !== undefined;\n  }\n  \n  delete(key: string): boolean {\n    return this.store.delete(key);\n  }\n  \n  clear(): void {\n    this.store.clear();\n  }\n  \n  size(): number {\n    return this.store.size;\n  }\n}\n\n// Global cache instance\nexport const cache = new Cache({\n  maxSize: 1000,\n  defaultTTL: 5 * 60 * 1000 // 5 minutes\n});\n\n// Cache utility functions\nexport const createCache = <T>(config: CacheConfig): Cache<T> => {\n  return new Cache<T>(config);\n};\n\nexport const clearExpiredEntries = <T>(cacheInstance: Cache<T>): void => {\n  // Implementation would iterate and remove expired entries\n  // Simplified for demo\n  console.log('Clearing expired entries...');\n};"],"names":["Cache","store","Map","constructor","config","set","key","value","ttl","size","maxSize","oldestKey","keys","next","delete","expiry","Date","now","defaultTTL","created","get","entry","undefined","has","clear","cache","createCache","clearExpiredEntries","cacheInstance","console","log"],"mappings":"MAYaA,KAAK,CAAA;AACRC,EAAAA,KAAK,GAAG,IAAIC,GAAG,EAAyB;EAGhDC,WAAAA,CAAYC,MAAmB,EAAA;IAC7B,IAAI,CAACA,MAAM,GAAGA,MAAM;AACtB,EAAA;AAEAC,EAAAA,GAAGA,CAACC,GAAW,EAAEC,KAAQ,EAAEC,GAAY,EAAA;AACrC;IACA,IAAI,IAAI,CAACP,KAAK,CAACQ,IAAI,IAAI,IAAI,CAACL,MAAM,CAACM,OAAO,EAAE;AAC1C,MAAA,MAAMC,SAAS,GAAG,IAAI,CAACV,KAAK,CAACW,IAAI,EAAE,CAACC,IAAI,EAAE,CAACN,KAAK;AAChD,MAAA,IAAII,SAAS,EAAE;AACb,QAAA,IAAI,CAACV,KAAK,CAACa,MAAM,CAACH,SAAS,CAAC;AAC9B,MAAA;AACF,IAAA;AAEA,IAAA,MAAMI,MAAM,GAAGC,IAAI,CAACC,GAAG,EAAE,IAAIT,GAAG,IAAI,IAAI,CAACJ,MAAM,CAACc,UAAU,CAAC;AAC3D,IAAA,IAAI,CAACjB,KAAK,CAACI,GAAG,CAACC,GAAG,EAAE;MAClBC,KAAK;MACLQ,MAAM;AACNI,MAAAA,OAAO,EAAEH,IAAI,CAACC,GAAG;AAClB,KAAA,CAAC;AACJ,EAAA;EAEAG,GAAGA,CAACd,GAAW,EAAA;IACb,MAAMe,KAAK,GAAG,IAAI,CAACpB,KAAK,CAACmB,GAAG,CAACd,GAAG,CAAC;AACjC,IAAA,IAAI,CAACe,KAAK,EAAE,OAAOC,SAAS;IAE5B,IAAIN,IAAI,CAACC,GAAG,EAAE,GAAGI,KAAK,CAACN,MAAM,EAAE;AAC7B,MAAA,IAAI,CAACd,KAAK,CAACa,MAAM,CAACR,GAAG,CAAC;AACtB,MAAA,OAAOgB,SAAS;AAClB,IAAA;IAEA,OAAOD,KAAK,CAACd,KAAK;AACpB,EAAA;EAEAgB,GAAGA,CAACjB,GAAW,EAAA;AACb,IAAA,OAAO,IAAI,CAACc,GAAG,CAACd,GAAG,CAAC,KAAKgB,SAAS;AACpC,EAAA;EAEAR,MAAMA,CAACR,GAAW,EAAA;AAChB,IAAA,OAAO,IAAI,CAACL,KAAK,CAACa,MAAM,CAACR,GAAG,CAAC;AAC/B,EAAA;AAEAkB,EAAAA,KAAKA,GAAA;AACH,IAAA,IAAI,CAACvB,KAAK,CAACuB,KAAK,EAAE;AACpB,EAAA;AAEAf,EAAAA,IAAIA,GAAA;AACF,IAAA,OAAO,IAAI,CAACR,KAAK,CAACQ,IAAI;AACxB,EAAA;AACD;AAED;AACO,MAAMgB,KAAK,GAAG,IAAIzB,KAAK,CAAC;AAC7BU,EAAAA,OAAO,EAAE,IAAI;AACbQ,EAAAA,UAAU,EAAE,CAAC,GAAG,EAAE,GAAG,IAAI;AAC1B,CAAA;AAED;AACO,MAAMQ,WAAW,GAAOtB,MAAmB,IAAc;AAC9D,EAAA,OAAO,IAAIJ,KAAK,CAAII,MAAM,CAAC;AAC7B;AAEO,MAAMuB,mBAAmB,GAAOC,aAAuB,IAAU;AACtE;AACA;AACAC,EAAAA,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAC;AAC5C;;;;"}